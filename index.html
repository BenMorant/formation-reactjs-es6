<!DOCTYPE html>
<html>
  <head>
    <meta name="ROBOTS" content="INDEX, FOLLOW" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="description" content="Formation React js, avec ES6" />
    <meta
      name="keywords"
      content="formation react, formation reactjs, freelance, flux, redux, es6, props, state, jsx"
    />
    <link rel="canonical" href="http://codox.fr/formation-reactjs-es6" />
    <title>Formation react js ES6</title>
    <link href="https://google.com/+JeanBaptisteCazaux" rel="publisher" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <link rel="stylesheet" href="reveal/css/reveal.css" />
    <link rel="stylesheet" href="reveal/css/theme/black.css" />

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="reveal/lib/css/zenburn.css" />

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement('link')
      link.rel = 'stylesheet'
      link.type = 'text/css'
      link.href = window.location.search.match(/print-pdf/gi)
        ? 'reveal/css/print/pdf.css'
        : 'reveal/css/print/paper.css'
      document.getElementsByTagName('head')[0].appendChild(link)
    </script>
    <style type="text/css">
      p {
        text-align: left;
      }

      .fragment.current-visible.visible:not(.current-fragment) {
        display: none;
        height: 0px;
        line-height: 0px;
        font-size: 0px;
      }

      .reveal h3,
      .reveal h4 {
        text-transform: none;
      }

      .reveal pre code {
        max-height: 530px;
      }
    </style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1>
            <img
              width="75"
              height="75"
              data-src="images/react.svg"
              alt="react"
              style="border: none; background: none; box-shadow: none; margin: 0;"
            />React
          </h1>
          <h3>#ES6</h3>
          <p style="text-align: center"><a target="_blank" href="http://twitter.com/jbcazaux">@jbcazaux</a></p>
          <p style="text-align: center">
            <a href="http://codox.fr/formation-reactjs-es6">http://codox.fr/formation-reactjs-es6</a>
          </p>
        </section>
        <section><img data-src="images/mynameis.jpg" alt="my name is" /></section>
        <section><img data-src="images/coffee.gif" alt="coffee break" /></section>
        <section>
          <h3>Goals</h3>
          <img data-src="images/postits.jpg" alt="goals" />
        </section>
        <section>
          <h3>Versions</h3>
          <pre><code data-trim>
                    "react": "16.9.0"
                </code></pre>
        </section>
        <section>
          <h3>Content</h3>
          <ul>
            <li>
              ES6
              <ul>
                <li>ES6 Features</li>
                <li>Functional oriented programming</li>
              </ul>
            </li>
            <li>
              ReactJS
              <ul>
                <li>Fundamental</li>
                <li>Components</li>
                <li>State</li>
                <li>Redux</li>
                <li>Tests</li>
                <li>Routing</li>
                <li>Optimizations</li>
              </ul>
            </li>
          </ul>
        </section>
        <section>
          <h2>EcmaScript 6</h2>
        </section>
        <section>
          <h3><span style="text-decoration: line-through">var</span>, let, const</h3>
          <pre><code data-trim>
                let foo = 'bar'
                const MAX = 10
                const ttc = addTva(15)
                </code></pre>
          <p class="fragment">
            <span style="color: #8cd0d3">let</span> vs. <span style="color: #cc9393">const</span> ?
            <span class="fragment">0 var, 44 let, 997 const</span>
          </p>
        </section>
        <section>
          <h3><span style="text-decoration: line-through">var</span>, let, const</h3>
          <pre><code data-trim>
                if (true) {
                    var i = 1
                } else {
                    var j = 2
                }
                console.log(i, j)
                </code></pre>
          <pre class="fragment fade-up"><code data-trim>
                const user = {}
                user.name = 'john' // (1)
                user = {name: 'lea'} // (2)
                </code></pre>
          <pre class="fragment fade-up"><code data-trim>
                const arr = ['a']
                arr.push('b') // (3)
                arr = ['a', 'b'] // (4)
                </code></pre>
        </section>
        <section>
          <h3>Arrow functions</h3>
          <pre><code data-trim>
                function addOldSchool(a, b) {
                    return a + b
                }
            </code></pre>
          <pre class="fragment"><code data-trim>
                let add = (a, b) => {
                    return a + b
                }
                </code></pre>
          <pre class="fragment"><code data-trim>
                add = (a, b) => a + b
                </code></pre>
        </section>
        <section>
          <h3>Arrow functions</h3>
          <pre><code data-trim>
                const squares = [0, 1, 2, 3, 4].map(x => x * x)
                console.log(squares)
                </code></pre>
        </section>
        <section>
          <h3>Warning !</h3>
          <p>
            <a target="_blank" href="http://www.webbrowsercompatibility.com/es6/desktop/"
              >Not everything is supported yet</a
            >
          </p>
          <ul>
            <li>Polyfill (Array.flatMap(), Array.reduce(), ...)</li>
            <li>Transpiler (=>, let, const, ...)</li>
          </ul>
        </section>
        <section>
          <h3>Immutability !</h3>
          <p>Please do not mutate during the training :)</p>
        </section>
        <section>
          <h3>Spread operator</h3>
          <pre class="fragment current-visible"><code data-trim>
                const odd = [1, 3, 5, 7, 9]
                const even = [2, 4, 6, 8]
                const all = [0]

                // arr.push([element1[, ...[, elementN]]])
                all.push(odd)
                all.push(even)

                console.log(all) // ?
                </code></pre>
          <pre class="fragment current-visible"><code data-trim>
                const odd = [1, 3, 5, 7, 9]
                const even = [2, 4, 6, 8]
                const all = [0]

                // arr.push([element1[, ...[, elementN]]])
                for (let i = 0; i < odd.length; i++) {
                    all.push(odd[i])
                }
                for (let i = 0; i < even.length; i++) {
                    all.push(even[i])
                }
                console.log(all) // ?
                </code></pre>
          <pre class="fragment current-visible"><code data-trim>
                    const odd = [1, 3, 5, 7, 9]
                    const even = [2, 4, 6, 8]
                    const all = [0, ...odd, ...even]
                </code></pre>
        </section>
        <section>
          <h3>Spread operator</h3>
          <pre><code data-trim>
                let user = {
                    firstname: 'john',
                    nickname: 'ninja',
                    lastname: 'doe',
                    age: 21
                }

                user = {...user, firstname: 'toto'}

                console.log(user) // ?
            </code></pre>
        </section>
        <section>
          <h3>Destructuring</h3>
          <pre><code data-trim>
                    const foo = {a: 1, b: 2, c: 'bar'}
                    let {a} = foo
                    console.log(a) // ?
                </code></pre>
        </section>
        <section>
          <h3>Destructuring</h3>
          <pre><code data-trim>
            const user = {
                firstname: 'john',
                nickname: 'ninja',
                lastname: 'doe',
                age: 21
            }

            function getUserName(user) {
                return `${user.firstname} ${user.lastname}`)
            }
            console.log(getUserName(user))
            </code></pre>
          <pre class="fragment"><code data-trim>
            function getUserName({firstname, lastname}) {
                return `${firstname} ${lastname}`)
            }
            </code></pre>
          <pre class="fragment"><code data-trim>
            const getUserName = ({firstname, lastname}) =>
                `${user.firstname} ${user.lastname}`
            </code></pre>
        </section>
        <section>
          <h3>Destructuring - nested</h3>
          <pre><code data-trim>
            const user = {
                firstname: 'john',
                lastname: 'doe',
                address: {
                    street: 'avenue des champs élysées',
                    num: '12'
                }
            }

            function getUserAddress(user) {
             return `${user.address.num} ${user.address.street}`
            }
            </code></pre>
          <pre class="fragment"><code data-trim>
            const getUserAddress = ({address: {num, street}}) =>
                `${num} ${street}`
            </code></pre>
        </section>
        <section>
          <h3>Destructuring - alias</h3>
          <pre><code data-trim>
            const user = {
                firstname: 'john',
                lastname: 'doe',
                address: {
                    street: 'avenue des champs élysées',
                    num: '12'
                }
            }

            let getUserAddress = ({address: {num: foo, street: bar}}) =>
                `${foo} ${bar}`
            </code></pre>
        </section>
        <section>
          <h3>Destructuring - arrays</h3>
          <pre><code data-trim>
            const maths = [x => x + 1, x => x * x, x => x * x * x]
            const [plus1, square] = maths
            plus1(41) // 42
            square(12) // 144
            </code></pre>
        </section>
        <section>
          <h3>Shorthand Notation</h3>
          <pre><code data-trim>
                const foo = 42
                const bar = 1

                const longer = {
                    foo: foo,
                    bar: bar
                }
            </code></pre>
          <pre class="fragment"><code data-trim>
                const shorter = {
                    foo,
                    bar
                }
            </code></pre>
        </section>
        <section>
          <h3>Promises VS. async - await</h3>
          <pre><code data-trim>
            axios.get('/users/42/items')
                .then(resp => resp.data)
                .then(items => items.map(item => item.id))
                .then(ids => {/* use the ids */})
                .catch(error => console.log(error.toString()))
            </code></pre>
          <pre class="fragment"><code data-trim>
            async function fetchItems {
                try {
                    const response = await axios.get('/users/42/items')
                    const items = response.data
                    const itemIds = items.map(item => item.id))
                    /* use the ids */
                } catch(error){
                    console.log(error.toString())
                }
            }
            </code></pre>
        </section>
        <section>
          <h3>Promesses VS. async - await</h3>
          <pre><code data-trim>
            axios.get('/users/42/items')
                .then(({data : items})) => items.map(item => item.id))
                .then(ids => {/* use the ids */})
                .catch(error => console.log(error.toString()))
            </code></pre>
          <pre><code data-trim>
            async function fetchItems {
              try {
                const {data: items} = await axios.get('/users/42/items')
                const itemIds = items.map(item => item.id))
                /* use the ids */
              } catch(error){
                console.log(error.toString())
              }
            }
            </code></pre>
        </section>
        <section>
          <h3>Reminder - currying</h3>
          <pre><code data-trim>
                let add = function(x) {
                    return function(y) {
                        return x + y
                    }
                }
                add(2)(3) // ???
            </code></pre>
          <pre class="fragment"><code data-trim>
                const add2 = add(2)
                add2(3) // = ?
            </code></pre>
          <pre class="fragment"><code data-trim>
                let add = x => y => x + y // WTF ?!
            </code></pre>
          <pre class="fragment"><code data-trim>
                let add = x =>
                    y => (x + y)
                //easy !
            </code></pre>
        </section>
        <section>
          <h3>Reminder - this</h3>
          <pre><code data-trim data-noescape>
                function f() {
                    this.foo // what is this ?
                }
            </code></pre>
        </section>
        <section>
          <h1>
            <img
              width="200"
              height="200"
              data-src="images/react.svg"
              alt="react"
              style="border: none; background: none; box-shadow: none; margin: 0;"
            />
          </h1>
        </section>
        <section>
          <h3>Everything is Component</h3>
          <img data-src="images/components.png" alt="components" width="90%" />
        </section>
        <section>
          <h3>Hello world</h3>
          <pre>hello.js<code data-trim>
            import React from "react"

            const Hello = (props) => <div>Hello {props.name} !</div>

            export default Hello
            </code></pre>
          <pre class="fragment">index.js<code class="jsx" data-trim>
            import React from "react"
            import ReactDOM from "react-dom"
            import Hello from "./Hello"

            ReactDOM.render(
                &lt;Hello name="world"/&gt;,
                document.getElementById('root')
            )
            </code></pre>
        </section>
        <section>
          <h3>JSX</h3>
          <pre><code data-trim>
                (props) => (
                     &lt;li className="contact"&gt;
                          &lt;h2 className="contact-name"&gt;{props.name}&lt;/h2&gt;
                      &lt;/li&gt;
                    )
                </code></pre>
          <pre><code data-trim>
                (props) => React.createElement('li', {className: 'contact'},
                        React.createElement('h2',
                            {className: 'contact-name'}, props.name)
                        )
                )
                </code></pre>
        </section>
        <section data-background="#b5533c">
          <h3>TP-01</h3>
          <h4>Hello World</h4>
          <ol>
            <li>Setup your environment</li>
            <li>Write the Hello component/function</li>
          </ol>
        </section>
        <section>
          <h3>Type checking</h3>
          <p style="font-size: 32px">
            We can do <i>nothing</i>, use <a target="_blank" href="https://www.typescriptlang.org/">Typescript</a> ,
            <a target="_blank" href="https://flow.org/">Flow</a>, <a target="_blank" href="https://reasonml.github.io/reason-react/">Reason</a>, or
            <a target="_blank" href="https://www.npmjs.com/package/prop-types">PropTypes</a>
          </p>
          <pre><code data-trim>
            import PropTypes from 'prop-types'
            const Hello = ({name}) => <h1>Hello {name}!</h1>

            Hello.propTypes = {
                name: PropTypes.string.isRequired,
                truc: PropTypes.bool
            }
            </code></pre>
          <p style="font-size: 22px; text-align: left">
            types: array, bool, func, number, object, string, shape, node, arrayOf(), ...
            <a href="https://reactjs.org/docs/typechecking-with-proptypes.html">
              https://reactjs.org/docs/typechecking-with-proptypes.html
            </a>
          </p>
        </section>
        <section>
          <h3>Component's attributes</h3>
          <pre><code data-trim>
            const Counter = () => {
                let count = 0

                return &lt;div onClick={() =&gt; count = count + 1}&gt;
                    Count: {count}
                &lt;/div&gt;;
            }
            </code></pre>
          <mark>Don't try this at home !</mark>
        </section>
        <section>
          <h3>State</h3>
          <pre><code data-trim>
           const ComponentWithState = (props) => {
            const [count, setCount] = useState(0)
            const [user, setUser] = useState(null)
            const [color, setColor] = useState('green')

            return ...
           }
           </code></pre>
        </section>

        <section>
          <h3>State</h3>
          <p>Set the default state by passing an argument to useState()</p>
          <pre><code data-trim>
            const [count, setCount] = useState(42)
          </code></pre>
          <p>Update a state</p>
          <pre><code data-trim>
            const [count, setCount] = useState(0)
            setCount(10)
            setCount(prevState => prevState + 1)
            </code></pre>
          <p>Get current state</p>
          <pre><code data-trim>
            const [count, setCount] = useState(0)
            count
          </code></pre>
        </section>
        <section>
          <h3>State</h3>
          <pre><code data-trim>
            const Counter = () =>  {
              const [count, setCount] = useState(0)
              return &lt;div onClick={() => setCount(prev => prev + 1)}&gt;
                  Count: {count}
              &lt;/div&gt;
            }
            </code></pre>
        </section>
        <section>
          <h3>Props vs State</h3>

          <p>Props</p>
          <div style="font-size: 30px; text-align: left; margin-left: 50px;">
            <ul>
              <li>Data from the parent component</li>
            </ul>
          </div>

          <p>State</p>
          <div style="font-size: 30px; text-align: left; margin-left: 50px;">
            <ul>
              <li>Data that may change on user's interactions (clicks, inputs)</li>
              <li>Write as many stateless components as possible</li>
              <li><strike>Data computed from props or state</strike>(do that in the function itself)</li>
              <li><strike>Components</strike></li>
            </ul>
          </div>
        </section>
        <section>
          <h3>Class components</h3>
          <pre><code data-trim>
            class ButtonApp extends React.Component {
                state = {count: 0}
                render() {
                    return &lt;div&gt;
                        &lt;div&gt;{this.props.title}&lt;/div&gt;
                        &lt;button&gt;{this.props.label}&lt;/button&gt;
                        &lt;div&gt;{this.state.count}&lt;/div&gt;
                    &lt;/div&gt;
                }
            }
            </code></pre>
        </section>
        <section>
          <h3>Iterating over an array</h3>
          <pre><code data-trim>
            const MyComponent = (props) => (
                &lt;ul&gt;
                {
                    props.items.map(item =>
                        &lt;li key={item.id}&gt;{item.label}&lt;/li&gt;)
                }
                &lt;/ul&gt;
            )
            </code></pre>
        </section>
        <section>
          <h3>useEffect</h3>
          <p>It triggers a function when props or state change</p>
          <pre><code data-trim>
                const UserDetails = ({userId}) => {
                 const [details, setDetails] = useState(null)

                 useEffect(() => {
                  axios.get('/user/' + userId)
                   .then(({response: {data: details}}) => setDetails(details)
                 }, [userId])

                 return &lt;div&gt;...
                }
              </code></pre>
        </section>
        <section data-background="#b5533c">
          <h3>TP-02</h3>
          <h4>Shopping list</h4>
          <ol style="font-size: 34px">
            <li>Display the title provided by the parent</li>
            <li>Set a default state (empty list)</li>
            <li>Set the list of items in the state when webservice has returned</li>
            <li>Display the list items in &lt;li&gt;&lt;/li&gt; tags</li>
            <li>Create a dedicated component for the &lt;li&gt; tags</li>
            <li>
              Bonus: Create a component that makes the ajax call, and pass the result to a child component that iterates
              over the list.
            </li>
          </ol>
        </section>
        <section>
          <h3>Bonus TP-02</h3>
          <pre><code data-trim>
            const ShoppingList = ({title}) => {
               const [items, setItems] = useState([])
               // useEffect({...}, [])
               return &lt;ShoppingListInternal title={title}
                        items={items}/&gt;
            }
            const ShoppingListInternal = ({title, items}) =>
            &lt;div&gt;
                &lt;h2&gt;{title}&lt;/h2&gt;
                &lt;ul&gt;{items.map(item =>
                    &lt;ShoppingItem key={item.id} item={item}/&gt;)}
                &lt;/ul&gt;
            &lt;/div&gt;
            </code></pre>
        </section>
        <section>
          <h3>Pass functions into the props</h3>
          <pre><code data-trim>
            const ShoppingList = ({title}) => {
                const [items, setItems] = useState([])
                // useEffect({...}, [])

                const deleteItem = () => {
                    const newItems = items.slice(1)
                    setItems(newItems)
                }
                return (&lt;ShoppingListInternal
                        title={title}
                        items={items}
                        del={deleteItem}/&gt;)
                }
            }
            </code></pre>
        </section>
        <section>
          <h3>Use functions from the props</h3>
          <pre><code data-trim>
            const ShoppingListInternal = ({title, items, del}) => (
                &lt;div&gt;
                    &lt;h2&gt;{title}&lt;/h2&gt;
                    &lt;ul&gt;
                        {
                          items.map(item => (&lt;li onClick={del}&gt;
                            {item.label}: {item.price}€ &lt;/li&gt;))
                        }
                    &lt;/ul&gt;
                &lt;/div&gt;)
            </code></pre>
        </section>
        <section>
          <h3>Get the JS event</h3>
          <pre><code data-trim>
            const ClickableApp = () => {
                const handleClick = e => {
                    console.log('click !', e)
                }
                return &lt;div onClick={handleClick}&gt;Click me !&lt;/div&gt;
            }
            </code></pre>
          <pre class="fragment"><code data-trim>
            const ClickableApp = () => (
                &lt;div
                    onClick={(e) => console.log('click !', e)}&gt;
                    Click me !
                &lt;/div&gt;
            )
            </code></pre>
        </section>
        <section>
          <h3>With style</h3>
        </section>
        <section>
          <h3>inline style vs css</h3>

          <p>Why not inlining css into js ?</p>

          <pre><code data-trim>
            MyComponent = () => {
                const mystyle = {backgroundColor: '#F0ABCD'}
                return &lt;div style={mystyle}/&gt;
            }
            </code></pre>
          <p>Or you can use a global css, or a css per component (css modules with Webpack)</p>

          <pre><code data-trim>
                import './MyComponent.css'
          </code></pre>
        </section>
        <section>
          <h3>React-bootstrap</h3>

          <div style="font-size: 30px; text-align: left; margin-left: 50px;">
            <p>Bootstrap components for React</p>
          </div>
          <pre><code data-trim>
                &lt;Button bsStyle="primary"
                        onClick={handleCdlick}&gt;Go!&lt;/Button&gt;
            </code></pre>

          <div style="font-size: 30px; text-align: left; margin-left: 50px;">
            <p>Documentation</p>
            <ul>
              <li>
                <a target="_blank" href="https://react-bootstrap.github.io/components/alerts/"
                  >https://react-bootstrap.github.io/components/alerts/</a
                >
              </li>
              <li>
                <a target="_blank" href="http://getbootstrap.com/components/">http://getbootstrap.com/components/</a>
              </li>
            </ul>
          </div>
        </section>
        <section>
          <h3>Material-UI</h3>

          <div style="font-size: 30px; text-align: left; margin-left: 50px;">
            <p>React components that implement Google's Material Design</p>
          </div>
          <pre><code data-trim>
                &lt;Button onClick={handleClick}&gt;Go!&lt;/Button&gt;
            </code></pre>

          <div style="font-size: 30px; text-align: left; margin-left: 50px;">
            <p>Documentation</p>
            <p><a target="_blank" href="https://material-ui.com/api/button/">https://material-ui.com/api/button/</a></p>
          </div>
        </section>
        <section>
          <h3>Styled-Components</h3>

          <div style="font-size: 30px; text-align: left; margin-left: 50px;">
            <p>Visual primitives for the component age.</p>
          </div>
          <pre><code data-trim>
            const Title = styled.h1`
                font-size: 1.5em;
                text-align: center;
                color: palevioletred;
            `
            &lt;Title&gt;Nice title !&lt;/Title&gt;
            </code></pre>

          <div style="font-size: 30px; text-align: left; margin-left: 50px;">
            <p>Documentation</p>
            <p>
              <a target="_blank" href="https://www.styled-components.com/docs/api"
                >https://www.styled-components.com/docs/api</a
              >
            </p>
          </div>
        </section>
        <section>
          <h3>Tips and tricks</h3>
          <h4 class="fragment">(Workarounds)</h4>
        </section>
        <section>
          <h3>Fragments</h3>
          <pre><code data-trim>
            render() {
                return (
                &lt;React.Fragment&gt;
                    &lt;div&gt;Pourquoi &lt;/div&gt;
                    &lt;span&gt;pas ?&lt;/span&gt;
                &lt;/React.Fragment&gt;
                )
            }
            </code></pre>
          <pre class="fragment"><code data-trim>
            render() {
                return (
                &lt;&gt;
                    &lt;div&gt;Pourquoi &lt;/div&gt;
                    &lt;span&gt;pas ?&lt;/span&gt;
                &lt;/&gt;
                )
            }
            </code></pre>
        </section>
        <section>
          <h3>Special chars</h3>
          <pre><code data-trim>
                <span> Jet d{String.fromCharCode(39)}eau</span>
            </code></pre>
        </section>
        <section>
          <h3>JSX if (else)</h3>
          <p>if</p>
          <pre><code data-trim>
                {user && <div>{user.login}</div>}
            </code></pre>
          <p>not</p>
          <pre><code data-trim>
                {user || <div>No User</div>}
            </code></pre>
          <p>if-else</p>
          <pre><code data-trim>
                {user
                    ? <div>{user.login}</div>
                    : <div>No User</div>}
            </code></pre>
          <p>
            <a href="https://angular.io/api/common/NgIf" style="font-size: .5em; ">Not better in angular :)</a>
          </p>
        </section>
        <section>
          <h3>Comments</h3>
          <pre><code data-trim>
            const MyComponent = () => {
                // comment inside JS
                return &lt;div&gt;
                    {/* Comment inside JSX */}
                &lt;/div&gt;
            }
            </code></pre>
        </section>
        <section>
          <h3>Children</h3>

          <pre><code data-trim>
            ReactDOM.render(
               &lt;ButtonApp title="My Application"&gt;Press Me! &lt;/ButtonApp&gt;,
               document.getElementById('root')
            )
            </code></pre>
          <pre><code data-trim>
            export const ButtonApp = ({title, children}) => {
                return &lt;div&gt;
                    &lt;div&gt;{title}&lt;/div&gt;
                    &lt;button&gt;{children}&lt;/button&gt;
                &lt;/div&gt;
            }
            </code></pre>
        </section>
        <section data-background="#b5533c">
          <h3>TP-03</h3>
          <h4>Students List</h4>
          <ol>
            <li>Create an "input" field that filters the elements of a Table</li>
            <li>
              Display the name of the selected student (the one which has been clicked on), or a message if no student
              is selected
            </li>
            <li>Bonus : Do a nice Pull Request to make this exercice look beautiful ;)</li>
          </ol>
        </section>
        <section>
          <h3>What we have seen so far</h3>
          <ul>
            <li>A component has props and states</li>
            <li>A stateless component is simpler to write and maintain</li>
          </ul>
        </section>
        <section>
          <h3>Flux & Redux</h3>
        </section>
        <section>
          <h3>Flux</h3>
          <div style="font-size: 30px; text-align: left; margin-left: 15px;">
            <ul>
              <li>Store: Store the data</li>
              <li>Action: Update model</li>
              <li>Dispatcher: Dispatch actions into the stores</li>
              <li>View: UI Components</li>
            </ul>
          </div>
          <img data-src="images/flux.png" alt="flux" />

          <p>The flow is <i>unidirectional</i> ! (<strike>2-way binding</strike>)</p>
        </section>
        <section>
          <h3>Bad Practice vs. Good Practice</h3>

          <img data-src="images/flux-bestpractice.png" alt="best practices" height="300" />
          <div style="font-size: 30px; text-align: left; margin-left: 15px;">
            <ul>
              <li>We dont want to update other components directly</li>
              <li>We can use the store (redux), the stores (flux), services (RxJs Subjects ), ...</li>
            </ul>
          </div>
        </section>
        <section>
          <h3>Redux</h3>
        </section>
        <section>
          <h3>Actions</h3>
          <pre><code data-trim>
                {type: 'INCREMENT', inc: 3}
                {type: 'ADD_TODO', text: 'Buy bread'}
                {type: 'SET_USER', user: new User(1, 'toto')}
            </code></pre>

          <h3>Action Creator</h3>
          <pre><code data-trim>
            export const incrementor = (inc) => {
                return {type: 'INCREMENT', inc}
            }
            </code></pre>
          <pre><code data-trim>
            export const incrementor =
                (inc) => ({type: 'INCREMENT', inc})
            </code></pre>
        </section>
        <section>
          <h3>Redux</h3>
          <pre><code data-trim>
                const userId = window.current_account.id
            </code></pre>
          <p>&laquo;Why use redux if we have global variables ?&raquo;</p>
          <p class="fragment">#TROLL</p>
        </section>
        <section>
          <h3>Redux</h3>

          <div style="font-size: 30px; text-align: left; margin-left: 15px;">
            <ul>
              <li>Unique store (isomorphism is easier)</li>
              <li>The <b>state</b> of the store is read-only</li>
              <li>We dispatch <b>actions</b> to update the state (of the store)</li>
              <li class="fragment"><b>Actions</b> are sent to the <b>reducers</b></li>
              <li class="fragment"><b>Reducers</b> are <b>pures</b>functions</li>
              <li class="fragment"><b>Reducers</b> have current state and an action as parameters</li>
              <li class="fragment">They return a new state in an 'immutable' object</li>
            </ul>
          </div>
          <img data-src="images/redux.png" alt="redux" height="200" />
        </section>
        <section>
          <h3>Reducer</h3>
          <pre><code data-trim>
            export const display = (state = 0, action) => {
                switch (action.type) {
                    case 'INCREMENT':
                        return state + action.inc
                    case 'DECREMENT':
                        return state - action.inc
                    default:
                        return state
                }
            }
            </code></pre>
          The <b>state</b> is read-only !
          <img data-src="images/redux.png" alt="redux" />
        </section>
        <section>
          <h3>React & Redux</h3>
        </section>
        <section>
          <h3>Reducers composition</h3>
          <h4>Naive approach</h4>
          <pre><code data-trim>
            const initialState = {user: '', counter: 0}
            export const myGlobalReducer =
                (state = initialState, action) => {
                    switch (action.type) {
                        case 'SET_USER':
                           return {...state, user: action.user}
                        case 'INCREMENT':
                           return {...state, counter: state.counter + 1}
                        case 'DECREMENT':
                           return {...state, counter: state.counter - 1}
                        default:
                           return state
                }
            }
            </code></pre>
          Not really readable on medium/large applications...!
        </section>
        <section>
          <h3>Reducers composition</h3>
          <pre><code data-trim>
            export const user =
                (state = User.NULL, action) => {
                    switch (action.type) {
                        case 'SET_USER':
                            return action.user
                        default:
                            return state
                    }
                }
            export const counter =
                (state = 0, action) => {
                    switch (action.type) {
                        case 'INCREMENT':
                            return state + 1
                        case 'DECREMENT':
                            return state - 1
                        default:
                            return state
                    }
            }
            </code></pre>
        </section>
        <section>
          <h3>Reducers composition</h3>
          <h4>Wow effect</h4>
          <pre><code data-trim>
            const init = {user: 'nobody', counter: 0}
            export const myGlobalReducer = (state = init, action) =>
                ({
                    user: user(state.user, action),
                    counter: counter(state.counter, action)
                })
            </code></pre>
          <p>And with a little bit of magic...</p>
          <pre><code data-trim>
            import { combineReducers } from 'redux'
            export const myGlobalReducer = combineReducers({
                user,
                counter
            })
            </code></pre>
        </section>
        <section>
          <h3>Reminder</h3>
          <div style="font-size: 30px; text-align: left; margin-left: 85px;">
            <ul>
              <li>Actions</li>
              <li>Reducers</li>
              <li>Store</li>
              <li>React Components</li>
              <li>Now the components must be linked to the store</li>
            </ul>
          </div>
          <img data-src="images/redux.png" alt="redux" />
        </section>
        <section>
          <h3>Hooks and Components</h3>
          <ul>
            <li>Separation of concerns: UI vs plumbery</li>
            <li>Reusable technical code goes into the hooks</li>
          </ul>
        </section>
        <section>
          <h3>Hooks</h3>

          <p style="font-size: 28px">
            useSelector
          </p>
          <pre><code data-trim>
            import { useSelector } from 'react-redux'

            export const MyComponent = () => {
              const dataFromTheStore = useSelector(state => state.data)
              return &lt;div&gt;{data.id} / {data.info} &lt;/div&gt;
            }
            </code></pre>
            <p style="font-size: 28px">
                useDispatch
            </p>
            <pre><code data-trim>
            import { useDispatch } from 'react-redux'

            export const MyComponent = () => {
              const dispatch = useDispatch()
              return &lt;div onClick={() => dispatch({type: 'INC', inc:1})}&gt;
                Click !
              &lt;/div&gt;
            }
            </code></pre>
          </section>
        </section>
        <section>
          <h3>Connected component</h3>
          <pre><code data-trim>
            export const SelectPostalCode = () => {
              const dispatch = useDispatch()
              const currentPc = useSelector(state => state.currentPc)
              const postalCodes = useSelector(state => state.postalCodes)

              const handleOnChange = e => {
                const action = setCurrentPc(e.target.value)
                dispatch(action)
              }
              &lt;select onChange={handleOnChange} value={currentPc}&gt;
              {
                postalCodes.map(pc =>
                    &lt;option key={pc} value={pc}&gt;{pc}&lt;/option&gt; )
              }
            &lt;/select&gt;
            )
          </code></pre>
        </section>
        <section>
          <h3>Pass the store to the whole application</h3>

          <p>All container components of the application must have access to the store.</p>
          <pre><code data-trim>
                import React from 'react'
                import ReactDOM from 'react-dom'
                import {Provider} from 'react-redux'
                import {createStore} from 'redux'
                import {reducer} from './reducers/index'
                import {App} from './components/app'

                const store = createStore(reducer)

                ReactDOM.render(
                    &lt;Provider store={store}&gt;
                        &lt;App/&gt;
                    &lt;/Provider&gt;,
                    document.getElementById('app')
                )
          </code></pre>
        </section>
        <section data-background="#b5533c">
          <h3>TP-04</h3>
          <h4>Shopping list - bis</h4>
          <ol style="font-size: 34px">
            <li>Install redux-dev-tools</li>
            <li>
              Like TP-02, but use the <i>state</i> of the store rather than the <i>state</i> of the component, and
              initializing the list (with synchronous call)
            </li>
            <li>Create an <i>action creator</i> <b>setItems</b> which returns an <b>ItemAction</b></li>
            <li>Create a reducer <b>items</b> which takes an <b>ItemAction</b> as input</li>
            <li>Create a global reducer thanks to <b>combineReducer</b></li>
            <li>Create the <i>container</i> and the <i>presentational component</i></li>
            <li>Bonus: Create a button that adds a new Item in the list</li>
          </ol>
        </section>
        <section>
          <h3>Asynchronous Actions</h3>
        </section>
        <section>
          <h3>Until now</h3>
          <ul>
            <li>Redux allows to dispatch only Objects (actions)</li>
            <li class="fragment">
              <b>redux-thunk</b> or <b>redux-saga</b> allow to dispach functions, and so asynchronous actions or actions
              with conditional statements. They are called <i>middlewares</i>.
            </li>
          </ul>
          <aside class="notes">
            Middleware intercep action before they are sent to reducers
          </aside>
        </section>
        <section>
          <h3>redux-thunk</h3>
        </section>
        <section>
          <h3>Configuration</h3>
          <pre><code data-trim>
                import {reducer} from './reducers/index'
                import {createStore, applyMiddleware} from 'redux'
                import thunk from 'redux-thunk'

                const store = createStore(
                reducer,
                applyMiddleware(thunk)
                )

                </code></pre>
        </section>
        <section>
          <h3>ThunkActionCreator</h3>
          <pre><code data-trim>
            function incrementCreator(inc) {
                return {
                    type: 'INCREMENT_COUNTER',
                    inc: inc
                }
            }

            function incrementAsyncCreator(inc) {
                return dispatch => setTimeout(
                        () => dispatch(incrementCreator(inc)),
                        1000)
            }
            </code></pre>
        </section>
        <section>
          <h3>To summarize</h3>

          <p>
            A <i>ThunkAction</i> is a function that gets <i>dispatch()</i> and <i>getState()</i> as parameters, and
            returns the result of the call to <i>dispatch()</i>.
          </p>
        </section>
        <section>
          <h3>Example</h3>
          <pre><code data-trim>
            const getItems =
                (userId) => axios.get('users/' + userId + '/items')
                    .then(resp => resp.data)
                    .catch(error => console.log(error.toString()))
            </code></pre>
          <pre class="fragment"><code data-trim>
            export const fetchItems = () =>
              (dispatch, getState) => getItems(getState().userId)
              .then(items => dispatch({type: 'SET_ITEMS', items: items}))
            .catch((error) => console.log(error))
            </code></pre>
            <pre class="fragment"><code data-trim>
            export const UserItems = () => {
              const dispatch = useDispatch()

              handleClick = () => {
                const action = fetchItems()
                dispatch(action)
              }

              return ...
            }

            </code></pre>
        </section>
        <section data-background="#b5533c">
          <h3>TP-05</h3>
          <h4>Shopping list- ter</h4>
          <ol>
            <li>Configure the "thunk" Middleware in index.js</li>
            <li>Like TP-04 but with an asynchronous call (http) to load the items list</li>
            <li>
              Bonus: Create an action which applies a VTA rate, when adding a new item to the store
            </li>
          </ol>
        </section>
        <section>
          <h3>Bravo !</h3>
          <p>It was the most complicated part</p>
          <p>We know how to create components and pass data to them</p>
          <ul>
            <li>From the parent's component</li>
            <li>From the <i>LocalState</i></li>
            <li>From the <b>store</b></li>
            <li>From a grand(n)-parent through the context...</li>
          </ul>
        </section>
        <section>
          <h3>Context</h3>
        </section>
        <section>
          <h3>Context API</h3>
          <ul>
            <li>We can pass data to child components (everywhere in the hierarchy).</li>
            <li class="fragment">
              Many librairies are based on it. It was not an official API before react 16.3
            </li>
            <li class="fragment"><i>react-redux</i> works with it, the store is passed to all children.</li>
          </ul>
        </section>
        <section>
          <h3>How to use</h3>
          <p>Create the <i>Context</i>, and wrap the application with <i>&lt;Context.Provider&gt;</i></p>
          <pre><code data-trim>
                const Context = React.createContext({color: 'green', user: null})
                export default Context
            </code></pre>
          <pre><code data-trim>
                ...
                return &lt;Context.Provider
                            value={{color: 'purple', user: new User(1, 'admin')}}&gt;
                    &lt;App/&gt;
                &lt;/Context.Provider&gt;
            </code></pre>
        </section>
        <section>
          <h3>How to use</h3>
          <p>Then get the <i>context</i>where it is used with the <i>useContext()</i> hook</p>
          <pre><code data-trim>
            import React, {useContext} from 'react'
            import MyContext from './Context'

            const MyComponent = () => {
                const ctx = useContext(MyContext)
                return &lt;div
                        style={{backgroundColor: ctx.color}}
                        &gt;
                   Some text
                &lt;/div&gt;
              }
            }
            </code></pre>
        </section>
        <section data-background="#b5533c">
          <h3>TP-06</h3>
          <h4>Context API</h4>
          <p>The goal is to pass a color and a user from a component to its 'grand-child'</p>
          <ol>
            <li>Wrap a react component into a Context, with a user and a color.</li>
            <li>Display the data from the <i>context</i> in the grand child component (Small)</li>
          </ol>
        </section>
        <section>
          <h3>Tests</h3>
        </section>
        <section>
          <h3>Jest, Enzyme, React Test Renderer, React Testing Library, ...</h3>
          <p>The idea is to test <i>presentational components</i>, with their states and props.</p>
          <p>Again Hooks were a game changer.</p>
          <ul>
            <li>Enzyme: Hooks are not yet fully supported</li>
            <li>React test renderer: No event simulation</li>
            <li>React testing library: Too complex ?</li>
          </ul>
        </section>
        <section>
          <h3>Render Components</h3>

          <pre><code data-trim>
            import React from "react"
            import {shallow} from "enzyme"

            describe('MyComponent', () => {
                it('should work !', () => {
                    const component = shallow(&lt;MyComponent/&gt;)
                })
            })
            </code></pre>
          <p><a href="https://facebook.github.io/jest/docs/api.html#content" target="_blank">Jest API</a></p>
          <p>
            <a href="https://github.com/airbnb/enzyme/blob/master/docs/api/shallow.md" target="_blank">Enzyme API</a>
          </p>
        </section>
        <section>
          <h3>Render Components</h3>

          <pre><code data-trim>
            import React from "react"
            import renderer from 'react-test-renderer'

            describe('MyComponent', () => {
                it('should work !', () => {
                    const component = renderer.create(&lt;MyComponent/&gt;)
                })
            })
            </code></pre>
          <p><a href="https://facebook.github.io/jest/docs/api.html#content" target="_blank">Jest API</a></p>
          <p>
            <a href="https://reactjs.org/docs/test-renderer.html" target="_blank">React Test Renderer</a>
          </p>
        </section>
        <section>
          <h3>Test if sub components are loaded</h3>
          <pre><code data-trim>
            it('renders App and its sub components', () => {
                const component = shallow(&lt;App/&gt;)
                expect(component.find(LeftMenu).exists())
                    .toBeTruthy()
                expect(component.find(RightMenu).exists())
                    .toBeTruthy()
            })
            </code></pre>
          <pre><code data-trim>
            it('renders App and its sub components', () => {
                const component = renderer.create(&lt;App/&gt;)
                expect(component.root.findByType(LeftMenu)).toBeTruthy()
                expect(component.root.findByType(RightMenu)).toBeTruthy()
            })
            </code></pre>
        </section>
        <section>
          <h3>Snapshots</h3>
          <pre><code data-trim>
          it('renders the same', () => {
            const component = shallow(&lt;App/&gt;)
            expect(component).toMatchSnapshot()
          })
          </code></pre>
          <pre><code data-trim>
          it('renders the same', () => {
            const component = renderer.create(&lt;App/&gt;)
            expect(component.toJSON()).toMatchSnapshot()
          })
          </code></pre>
        </section>
        <section>
          <h3>Displayed text</h3>
          <pre><code data-trim>
          it('renders a text', () => {
            const component = shallow(&lt;App/&gt;)
            expect(component.text()).toContain('mon texte attendu')
          })
          </code></pre>
          <pre><code data-trim>
          it('renders a text', () => {
            const component = renderer.create(&lt;App/&gt;)
            expect(component.root.props.children)
              .toContain('mon texte attendu')
          })
          </code></pre>
        </section>
        <section>
          <h3>Assert that a method has been called</h3>
          <pre><code data-trim>
            const mockOnChange = jest.fn()
            expect(mockOnChange).toBeCalledWith(myParam)
          </code></pre>
        </section>
        <section>
          <h3>Simulate events</h3>
          <pre><code data-trim>
            //with an enzyme component
            component.find('button')
                .at(1)
                .simulate('click')
            component.find('input')
                .simulate('change', {target: {value: 'ma valeur'}})
            </code></pre>
        </section>
        <section>
          <h3>Advanced testing - hooks</h3>
          <pre><code data-trim>
          export const MyComponent = () => {
              const [id, setId] = useState(0)
              useEffect(() => {
                setId(42)
              }, [])

              return <div>{id}</div>
         }
        </code></pre>
        </section>
        <section>
          <h3>Advanced testing - hooks</h3>
          <pre><code data-trim>
          const mockSetState = jest.fn()
          jest.mock('react', () => ({
            ...jest.requireActual('react'),
            useState: jest.fn().mockImplementation(
              (s) => [s, mockSetState]
            ),
          }))
          describe('MyComponent', () => {
            it('uses hooks !', () => {
              let component
              act(() => {
                component = renderer.create(&lt;MyComponent /&gt;)
              })
            
              expect(component.toJSON()).toMatchSnapshot()
              expect(mockSetState).toHaveBeenCalledWith(42)
            })    
          }
          </code></pre>
        </section>
        <section>
          <h3>Advanced mocking with Jest - functions</h3>
          <pre><code data-trim>
            import * as Maths from './maths'

            describe('Maths', () => {
              it('should add', () => {
                Maths.add = jest.fn().mockImplementationOnce(() => 21)

                expect(Maths.add(1,2)).toEqual(21)
              }
            })
            </code></pre>
        </section>
        <section>
          <h3>Advanced mocking with Jest - modules</h3>
          <pre><code data-trim>
                import * as Maths from './maths'
                import { calculette } from './calculette'

                jest.mock('./maths')
                describe('calculette', () => {
                    it('should use maths module to performs add42', () => {
                        calculette.add42(11)

                        expect(Maths.add).toHaveBeenCalledWith(42, 11)
                    }
                })
            </code></pre>
        </section>
        <section>
          <h3>Run tests</h3>
          <ul>
            <li><i>npm test</i> in command line</li>
            <li><i>jest runner</i> in Webstorm</li>
            <li><i>--coverage</i> for test coverage</li>
          </ul>
          <aside class="notes">
            File > Settings > JavaScript > Libraries et Download Jest Typescript definition pour ne plus avoir d'erreurs
            sur 'describe' dans les sources.
          </aside>
        </section>
        <section data-background="#b5533c">
          <h3>TP-07</h3>
          <h4>Tests</h4>
          <p>The goal is to test the TP-03</p>
          <p></p>
          <ol style="font-size: 32px">
            <li>Create a .test.js file for each component</li>
            <li><i>StudentDetails</i>: Check the text (Student.NULL or a new Student)</li>
            <li><i>Filter</i>: Verify that the callback is called when the <i>change</i> event is propagated</li>
            <li>
              <i>StudenstTable</i>: Verify the number of rows in the table, given an input. Verify the callback too.
            </li>
            <li>
              <i>StudentsApp</i>: Verify that the component and its children are displayed. Validate that
              <i>filteredStudents()</i>
              returns the correct elements, given an input.
            </li>
            <li>Bonus: Create jest <i>snapshots</i></li>
          </ol>
        </section>
        <section>
          <h3>Routing</h3>
        </section>
        <section>
          <h3>react-router</h3>

          <p>There are different Routers for managing history of navigation and URL:</p>
          <ul>
            <li><b>BrowserRouter</b> : /monsite/page1/partie2</li>
            <li><b>HashRouter</b>: /monsite/#/page1/partie2</li>
            <li><b>MemoryRouter</b> : /</li>
          </ul>
          <p style="font-size: 24px">
            For BrowserRouter you have to redirect every requests to index.html, but not .css, .js, calls to
            webservices.
          </p>
        </section>
        <section>
          <h3>react-router</h3>

          <p>Define Router in the root level of the application.</p>
          <pre><code data-trim>
            import {BrowserRouter as Router,
                Route} from 'react-router-dom'

            ReactDOM.render(
              &lt;Router&gt;
                  &lt;Route exact path="/" component={Home} /&gt;
                  &lt;Route path="/about" render={() => <h2>About...</h2>} /&gt;
                  &lt;Route path="/admin" component={Admin} /&gt;
              &lt;/Router&gt;,
              document.getElementById('root')
            )
            </code></pre>
        </section>
        <section>
          <h3>Nested routes !</h3>
          <pre><code data-trim>
            const Admin = () => (
            &lt;div&gt;
              &lt;h2&gt;Administration&lt;/h2&gt;
              &lt;Route path={'/admin/users'} component={UsersAdmin}/&gt;
              &lt;Route path={'/admin/articles'} component={ArticlesAdmin}/&gt;
            &lt;/div&gt;
            )
            </code></pre>
        </section>
        <section>
          <h3>react-router</h3>
          <p>
            It is possible to generate links automatically (see documentation)
            <a target="_blank" href="https://reacttraining.com/react-router/web/api/NavLink">doc</a> for thr API
          </p>
          <pre><code data-trim>
            &lt;Link to="/admin/users"&gt;Administration des utilisateurs&lt;/Link&gt;
            </code></pre>
        </section>
        <section>
          <h3>react-router</h3>
          <p>Dynamic urls</p>
          <pre><code data-trim>
            &lt;Route path={'/admin/users/:userId'} component={UserAdmin}/&gt;
            </code></pre>
          <pre><code data-trim>
            const UserAdmin = ({match}) => (
            &lt;div&gt;
                Manage user {match.params.userId}
            &lt;/div&gt;
            )
            </code></pre>
        </section>
        <section>
          <h3>match</h3>
          <p>match contains different data:</p>
          <ul>
            <li><b>params</b>: keys values for url params (ex: /user/:id)</li>
            <li><b>url</b>: current matched url/li></li>
            <li><b>isExact</b>: true if url has perfectly matched</li>
            <li><b>path</b>: pattern of the match</li>
          </ul>
          <pre><code data-trim>
            const Admin = ({match}) => (
                &lt;Link to={`${match.url}/users`}&gt;
                    Users
                &lt;/Link&gt;
                &lt;Link to={`${match.url}/articles`}&gt;
                    Articles
                &lt;/Link&gt;
            )
            </code></pre>
        </section>
        <section data-background="#b5533c">
          <h3>TP-08</h3>
          <h4>React-router</h4>
          <p>The goal is to provide an application with 3 "pages"</p>
          <p>Then create an application avec 3 pages, one will have an id in the URLs params</p>
          <ol>
            <li>Create links to /about and /users</li>
            <li>Create routes for /about and /users</li>
            <li>Create links to /users/elsa et /users/anna</li>
            <li>Create the route to UserDetail component</li>
            <li>Write the link to profile pictures (elsa.jpeg and anna.jpeg)</li>
          </ol>
        </section>
        <section>
          <h3>Optimizations</h3>
        </section>
        <section>
          <h3>Re render only what is necessary</h3>
          <img data-src="images/should-component-update.png" alt="update" />
        </section>
        <section>
          <h3>Reconciliation</h3>
          <p>
            <b>Virtual DOM</b> is...
            <span class="fragment" style="font-size: 24px">
              a memory representation of the components. When a component is rendered, the new V-DOM is compared to the
              old V-DOM. If there is a difference, the DOM of the browser is (partially) updated.
            </span>
          </p>
        </section>
        <section>
          <h3>Too many re-rendering</h3>
          <ul>
            <li>Memoization</li>
            <li>useCallback()</li>
            <li>useMemo()</li>
          </ul>
        </section>
        <section>
          <h3>useCallback()</h3>
          <pre class="fragment current-visible"><code data-trim>
            const MyInput = () => {
                const [value, setValue] = useState('')
                &lt;input value={value}
                    onChange={e => setValue(e.target.value)} /&gt;
            }
            </code></pre>
          <pre class="fragment current-visible"><code data-trim>
            const MyInput = () => {
                const [value, setValue] = useState('')
                const handleInput = e => setValue(e.target.value)

                &lt;input value={value} onChange={handleInput} /&gt;
            }
            </code></pre>
          <pre class="fragment current-visible"><code data-trim>
            const MyInput = () => {
                const [value, setValue] = useState('')
                const handleInput = useCallback(e =>
                    setValue(e.target.value), [setValue])

                &lt;input value={value} onChange={handleInput} /&gt;
            }
            </code></pre>
        </section>
        <section>
          <h3>useMemo</h3>
          <pre><code data-trim>
            const User = ({user}) =>  &lt;div&gt;{user.name}&lt;/div&gt;
          </code></pre>
          <pre class="fragment current-visible"><code data-trim>
            const MemoizedUser = ({user}) => {
                return  useMemo(() => &lt;User user={user}&gt;, [user.id])
            }
           </code></pre>
          <pre class="fragment current-visible"><code data-trim>
            // inside a component
            const memoizedUser = useMemo(() => &lt;User user={user} /&gt;,
              [user.id])
            return {memoizedUser}
          </code></pre>
          <pre class="fragment current-visible"><code data-trim>
            const MemoizedUser = React.memo(({ user }) =>
              &lt;User user={user} /&gt;)
          </code></pre>
        </section>
        <section data-background="#b5533c">
          <h3>TP-09</h3>
          <h4>Optimization</h4>
          <p>Try different kind of memoization with memo, useMemo and useCallback</p>
        </section>
        <section>
          <h3>Let's do it !</h3>

          <h3>help ? <a href="mailto:jbcazaux@gmail.com">jbcazaux@gmail.com</a></h3>
          <h3><a href="http://codox.fr/formation-reactjs-es6">http://codox.fr/formation-reactjs-es6</a></h3>
        </section>
      </div>
    </div>

    <script src="reveal/lib/js/head.min.js"></script>
    <script src="reveal/js/reveal.js"></script>

    <script>
      Reveal.initialize({
        history: true,
        dependencies: [
          { src: 'reveal/plugin/markdown/marked.js' },
          { src: 'reveal/plugin/markdown/markdown.js' },
          { src: 'reveal/plugin/notes/notes.js', async: true },
          {
            src: 'reveal/plugin/highlight/highlight.js',
            async: true,
            callback: function() {
              hljs.initHighlightingOnLoad()
            },
          },
        ],
      })
    </script>
  </body>
</html>
